<!DOCTYPE html>
<html>
<head>
    <title>Restaurante</title>
    <script>
        let mesas = [];
        let numMesas = 0;
        function inicializarMesas() {
            let inputNumMesas = prompt("Introduzca el número de mesas en el restaurante:");
            numMesas = parseInt(inputNumMesas);

            if (isNaN(numMesas) || numMesas <= 0) {
                alert("El número de mesas debe ser un valor numérico mayor que 0.");
                return;
            }

            mesas = [];
            for (let i = 1; i <= numMesas; i++) { // Comenzamos desde la mesa 1
                mesas.push(Math.floor(Math.random() * 5)); // Valores aleatorios entre 0 y 4
            }
            mostrarEstadoMesas();
        }
        function mostrarEstadoMesas() {
            const estadoMesasDiv = document.getElementById('estado-mesas');
            estadoMesasDiv.innerHTML = "Estado de las mesas: " + mesas.join(" ");
        }
        function buscarMesa(numComensales) {
            for (let i = 0; i < mesas.length; i++) {
                if (mesas[i] === 0 || (mesas[i] + numComensales) <= 4) {
                    return i;
                }
            }
            return -1;
        }
        function asignarMesa() {
            const inputNumComensales = document.getElementById('numComensales');
            const numComensales = parseInt(inputNumComensales.value);

            if (isNaN(numComensales) || numComensales <= 0) {
                alert("Ingrese un número de comensales válido y mayor que 0.");
                return;
            }
            if (numComensales > 4) {
                alert("Lo siento, no admitimos grupos de " + numComensales + " personas. Haga grupos de 4 personas como máximo e intente de nuevo.");
            } else {
                const mesaDisponible = buscarMesa(numComensales);

                if (mesaDisponible !== -1) {
                    mesas[mesaDisponible] += numComensales;
                    alert("Por favor, siéntese en la mesa " + (mesaDisponible + 1)); // Sumamos 1 para mostrar el número de mesa real
                } else {
                    alert("Lo siento, no queda sitio en el restaurante.");
                }
                mostrarEstadoMesas();
            }
        }
        inicializarMesas();
    </script>
</head>
<body>
    <h1>Restaurante</h1>
    <div id="estado-mesas"></div>
    <div>
        <label for="numComensales">¿Cuántos comensales son?</label>
        <input type="number" id="numComensales" min="1">
        <button onclick="asignarMesa()">Asignar Mesa</button>
    </div>
</body>
</html>
